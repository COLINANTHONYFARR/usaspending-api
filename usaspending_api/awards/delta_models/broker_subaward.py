broker_subaward_sql_string = r"""
CREATE OR REPLACE TABLE {DESTINATION_TABLE} (
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  id INTEGER NOT NULL,
  unique_award_key STRING,
  award_id STRING,
  parent_award_id STRING,
  award_amount numeric(23,2),
  action_date DATE,
  fy STRING,
  awarding_agency_code STRING,
  awarding_agency_name STRING,
  awarding_sub_tier_agency_c STRING,
  awarding_sub_tier_agency_n STRING,
  awarding_office_code STRING,
  awarding_office_name STRING,
  funding_agency_code STRING,
  funding_agency_name STRING,
  funding_sub_tier_agency_co STRING,
  funding_sub_tier_agency_na STRING,
  funding_office_code STRING,
  funding_office_name STRING,
  awardee_or_recipient_uniqu STRING,
  awardee_or_recipient_legal STRING,
  dba_name STRING,
  ultimate_parent_unique_ide STRING,
  ultimate_parent_legal_enti STRING,
  legal_entity_country_code STRING,
  legal_entity_country_name STRING,
  legal_entity_address_line1 STRING,
  legal_entity_city_name STRING,
  legal_entity_state_code STRING,
  legal_entity_state_name STRING,
  legal_entity_zip STRING,
  legal_entity_congressional STRING,
  legal_entity_foreign_posta STRING,
  business_types STRING,
  place_of_perform_city_name STRING,
  place_of_perform_state_code STRING,
  place_of_perform_state_name STRING,
  place_of_performance_zip STRING,
  place_of_perform_congressio STRING,
  place_of_perform_country_co STRING,
  place_of_perform_country_na STRING,
  award_description STRING,
  naics STRING,
  naics_description STRING,
  cfda_numbers STRING,
  cfda_titles STRING,
  subaward_type STRING,
  subaward_report_year INTEGER NOT NULL,
  subaward_report_month INTEGER NOT NULL,
  subaward_number STRING,
  subaward_amount numeric(23,2),
  sub_action_date DATE,
  sub_awardee_or_recipient_uniqu STRING,
  sub_awardee_or_recipient_legal STRING,
  sub_dba_name STRING,
  sub_ultimate_parent_unique_ide STRING,
  sub_ultimate_parent_legal_enti STRING,
  sub_legal_entity_country_code STRING,
  sub_legal_entity_country_name STRING,
  sub_legal_entity_address_line1 STRING,
  sub_legal_entity_city_name STRING,
  sub_legal_entity_state_code STRING,
  sub_legal_entity_state_name STRING,
  sub_legal_entity_zip STRING,
  sub_legal_entity_congressional STRING,
  sub_legal_entity_foreign_posta STRING,
  sub_business_types STRING,
  sub_place_of_perform_city_name STRING,
  sub_place_of_perform_state_code STRING,
  sub_place_of_perform_state_name STRING,
  sub_place_of_performance_zip STRING,
  sub_place_of_perform_congressio STRING,
  sub_place_of_perform_country_co STRING,
  sub_place_of_perform_country_na STRING,
  subaward_description STRING,
  sub_high_comp_officer1_full_na STRING,
  sub_high_comp_officer1_amount numeric(23,2),
  sub_high_comp_officer2_full_na STRING,
  sub_high_comp_officer2_amount numeric(23,2),
  sub_high_comp_officer3_full_na STRING,
  sub_high_comp_officer3_amount numeric(23,2),
  sub_high_comp_officer4_full_na STRING,
  sub_high_comp_officer4_amount numeric(23,2),
  sub_high_comp_officer5_full_na STRING,
  sub_high_comp_officer5_amount numeric(23,2),
  prime_id INTEGER,
  internal_id STRING,
  date_submitted TIMESTAMP,
  report_type STRING,
  transaction_type STRING,
  program_title STRING,
  contract_agency_code STRING,
  contract_idv_agency_code STRING,
  grant_funding_agency_id STRING,
  grant_funding_agency_name STRING,
  federal_agency_name STRING,
  treasury_symbol STRING,
  dunsplus4 STRING,
  recovery_model_q1 BOOLEAN,
  recovery_model_q2 BOOLEAN,
  compensation_q1 BOOLEAN,
  compensation_q2 BOOLEAN,
  high_comp_officer1_full_na STRING,
  high_comp_officer1_amount numeric(23,2),
  high_comp_officer2_full_na STRING,
  high_comp_officer2_amount numeric(23,2),
  high_comp_officer3_full_na STRING,
  high_comp_officer3_amount numeric(23,2),
  high_comp_officer4_full_na STRING,
  high_comp_officer4_amount numeric(23,2),
  high_comp_officer5_full_na STRING,
  high_comp_officer5_amount numeric(23,2),
  sub_id INTEGER,
  sub_parent_id INTEGER,
  sub_federal_agency_id STRING,
  sub_federal_agency_name STRING,
  sub_funding_agency_id STRING,
  sub_funding_agency_name STRING,
  sub_funding_office_id STRING,
  sub_funding_office_name STRING,
  sub_naics STRING,
  sub_cfda_numbers STRING,
  sub_dunsplus4 STRING,
  sub_recovery_subcontract_amt STRING,
  sub_recovery_model_q1 BOOLEAN,
  sub_recovery_model_q2 BOOLEAN,
  sub_compensation_q1 BOOLEAN,
  sub_compensation_q2 BOOLEAN,
  place_of_perform_street STRING,
  sub_place_of_perform_street STRING,
  awardee_or_recipient_uei STRING,
  sub_awardee_or_recipient_uei STRING,
  sub_ultimate_parent_uei STRING,
  ultimate_parent_uei STRING
)
USING DELTA
LOCATION 's3a://{AWS_S3_BUCKET}/{AWS_S3_OUTPUT_PATH}/{DESTINATION_TABLE}'
"""
